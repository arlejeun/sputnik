<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-subheader/paper-subheader.html">
<link rel="import" href="../bower_components/poly-filter/poly-filter.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<!--<link rel="import" href="../bower_components/poly-filter/demo/demo-list.html">-->
<link rel="import" href="gsys-pulse-visualizations.html">
<link rel="import" href="gsys-pulse-help.html">
<link rel="import" href="gsys-pulse-templates.html">
<link rel="import" href="gsys-pulse-dashboards.html">
<link rel="import" href="market-category-data.html">
<link rel="import" href="shared-styles.html">

<dom-module id="gsys-pulse">

  <template>

    <style include="shared-styles">
      :host {
        display: block;
        padding: 10px;
      }

    </style>


    <!--
      app-route provides the name of the category.
    -->
    <app-route
        route="{{route}}"
        pattern="/:category"
        data="{{routeData}}"
        tail="{{subroute}}">
    </app-route>


    <iron-pages
        selected="[[routeData.category]]"
        attr-for-selected="name"
        fallback-selection="view404"
        id="pulseContent">

            <gsys-pulse-dashboards name="dashboards" route="[[subroute]]" category="[[routeData.category]]" user="[[user]]" role="[[role]]"></gsys-pulse-dashboards>
            <gsys-pulse-templates name="templates" route="[[subroute]]" category="[[routeData.category]]" user="[[user]]" role="[[role]]"></gsys-pulse-templates>
            <gsys-pulse-visualizations name="visualizations" route="[[subroute]]" category="[[routeData.category]]" user="[[user]]" role="[[role]]"></gsys-pulse-visualizations>

            <gsys-pulse-help name="help" route="[[subroute]]"></gsys-pulse-help>
            <gsys-view404 name="view404"></gsys-view404>


      </iron-pages>

  </template>

  <script>
    Polymer({
      is: 'gsys-pulse',

      properties: {

        role: {
           type: String,
           reflectToAttribute:true,
           observer: '_roleChanged'
        }


      }


    });
  </script>
</dom-module>
